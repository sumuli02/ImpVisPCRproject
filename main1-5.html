<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="main.css">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Project 3 - PCR analysis</title>
</head>
<body>
<div style="position:fixed; left: 18vw; bottom: 3vw; font-size: 1.5vw;"><a href="main1-4.html">< Prev </a>  </div>
<div style="position:fixed; right: 3vw; bottom: 3vw; font-size: 1.5vw;"><a href="main2-1.html">Next ></a>  </div>
    <div id="divider" style="width:15%;">
        <div style="width:16%; background: white; color:black;" id="menu">
            <div id="title"> qPCR Data Analysis </div>
            <div class="section">
                <a style="font-size:1.6vw; padding-left:1vw" href="index.html">Introduction</a> <br><br>
                1. Amplification Plot
                <a href="main1-1.html">1.1 Overview</a>
                <a href="main1-2.html">1.2 Concept Review</a>
                <a href="main1-3.html">1.3 Parameters</a>
                <a href="main1-4.html">1.4 Summary</a>
                <a href="main1-5.html">1.5 Knowledge Check</a>
            </div>
            <div class="section">
                2. Calculations
                <a href="main2-1.html">2.1 Overview</a>
                <a href="main2-2-1.html">2.2 ΔΔCt method</a>
                <a href="main2-2-2.html">2.3 Hands-on</a>
                <a href="main2-3.html">2.4 Interpretation of Result</a>
                <a href="main2-4.html">2.5 Summary</a>
                <a href="main2-5.html">2.6 Knowledge Check</a>
            </div>
        </div>
    </div>

    <div id="main">
        <h1>Section 1: Amplification Plot</h1>
        <h2 id="section1">1.5  Knowledge Check
            <hr class="title-line" align = "left">
        </h2>
        <div class = "multiple-choice" id="multiple-choice">
            <div class="mc mc1" align="justify">
                <h2>Question 1 of 3</h2>
                <p style="font-size:1.7vw">Suppose a qPCR is performed on a particular gene with appropriate fluorescence threshold. 
                    When the rate of gene expression increases, how would the Ct value change?</p>
                <input id="q1-1" type="radio" name="q1" value="1">
                <label for="q1-1">Increases</label>
                <input id="q1-2" type="radio" name="q1" value="2">
                <label for="q1-2">Decreases</label>
                <input id="q1-3" type="radio" name="q1" value="3">
                <label for="q1-3">No effect</label>
                <input id="q1-4" type="radio" name="q1" value="4">
                <label for="q1-4">It depends on the fluorescence threshold</label>
            </div>
            <div class="mc mc2" align="justify">
                <h2>Question 2 of 3</h2>
                <p style="font-size:1.7vw"> A student performs qPCR and obtains the following amplification curve:
                <br>
                    <img src="MC1graph.png" alt="graph" width="350" class="center">
                <br>
                    Which of the following is a suitable fluorescence threshold for the experiment?
                </p>
                <input id="q2-1" type="radio" name="q2" value="1">
                <label for="q2-1">1 unit</label>
                <input id="q2-2" type="radio" name="q2" value="2">
                <label for="q2-2">2 units</label>
                <input id="q2-3" type="radio" name="q2" value="3">
                <label for="q2-3">3 units</label>
                <input id="q2-4" type="radio" name="q2" value="4">
                <label for="q2-4">5 units</label>
            </div>
            <div class="mc mc3" align="justify">
                <h2>Question 3 of 3</h2>
                <p style="font-size:1.7vw">What factor does not affect Ct value of target gene?
                </p>
                <input id="q3-1" type="radio" name="q3" value="1">
                <label for="q3-1">Fluorescence threshold</label>
                <input id="q3-2" type="radio" name="q3" value="2">
                <label for="q3-2">Housekeeping gene expression</label>
                <input id="q3-3" type="radio" name="q3" value="3">
                <label for="q3-3">Target gene expression</label>
                <input id="q3-4" type="radio" name="q3" value="4">
                <label for="q3-4">Use of drug that inhibits gene expression</label>
            </div>

            <br><br><br>
            <div style="margin:0;" align="center">
                <button id="B" style="position:absolute; left: 28vw;">Back</button>
                <button id="N" style="position:absolute; right: 12vw;">Next</button>
                <button id="Submit" style="position:absolute; right: 34vw;">Check</button>
                <button id="Restart" type="submit" style="position:absolute; right: 12vw; display:none;" >Restart</button>
            </div>
            <br>
            <div style="width: 35vw; margin:auto; line-height: 1.5vw;" class="MCQexplain" align="justify">We explain here why the chosen answer is wrong etc..</div>
            <div style="height: 8vw"></div>

        </div>



    </div>
</body>
<script>
document.querySelector(".MCQexplain").style.display = 'none';
document.querySelector(".mc2").style.display = 'none';
document.querySelector(".mc3").style.display = 'none';

var currentMC = 1;
var lastMC = 3;
var Answer = [2,1, 2];
var explain = ["When rate of gene expression is increased, it takes fewer cycles for the sample to reach the fluorescence threshold, therefore A and C are incorrect. D is not correct either because the fluorescence threshold is assumed to be appropriate, so this is not a limiting factor.",
"If the threshold value is 2 units or 3 units, the threshold value is too high, which would lead to inaccurate results. Maximum Ct value of the curve is 4 units, so the threshold cannot be 5 units.",
"Fluorescence level and rate of gene expression would change the Ct value, as shown in the plots. Target gene expression or the use of drug would change the rate of gene expression in target gene. Ct value of the target gene is independent of the Ct value of the housekeeping gene. Housekeeping gene is a control which plays an important role in normalisation, which you will explore in the next section."];
var Checked = [];
document.querySelector("#B").style.display = 'none';
document.querySelector("#N").addEventListener('click', function(){
    var _className = ".mc" + currentMC.toString();
    document.querySelector(_className).style.display = 'none';
    currentMC += 1;
    _className = ".mc" + currentMC.toString();
    document.querySelector(_className).style.display = 'block';
    document.querySelector(".MCQexplain").style.display = "none";

    if(Checked.includes(currentMC)){
        document.querySelector("#Submit").style.display = "none";
        document.querySelector(".MCQexplain").style.display = "block";
        document.querySelector(".MCQexplain").innerHTML = explain[(currentMC-1)];
    }
    else{
        document.querySelector("#Submit").style.display = "block";
        document.querySelector(".MCQexplain").style.display = "none";
    }


    if(currentMC == 2)
    {
        document.querySelector("#B").style.display = 'block';
    };
    if(currentMC == lastMC)
    {
        document.querySelector("#N").style.display = 'none';
        document.querySelector("#Restart").style.display = 'block';
    };
});

document.querySelector("#B").addEventListener('click', function(){
    var _className = ".mc" + currentMC.toString();
    document.querySelector(_className).style.display = 'none';
    currentMC -= 1;
    _className = ".mc" + currentMC.toString();
    document.querySelector(_className).style.display = 'block';

    if(Checked.includes(currentMC)){
        document.querySelector("#Submit").style.display = "none";
        document.querySelector(".MCQexplain").style.display = "block";
        document.querySelector(".MCQexplain").innerHTML = explain[(currentMC-1)];
    }
    else{
        document.querySelector("#Submit").style.display = "block";
        document.querySelector(".MCQexplain").style.display = "none";
    }

    if(currentMC == 1)
    {
        document.querySelector("#B").style.display = 'none';
    };
    if(currentMC == lastMC -1)
    {
        document.querySelector("#N").style.display = 'block';
    };
    document.querySelector("#Restart").style.display = 'none';
});
function Reset(item, label) {
    item.style.backgroundColor="";

};

function ButtonReset(item, label){
    item.checked = false;
};
document.querySelector("#Restart").addEventListener('click', function(){
    var Labels = document.querySelectorAll("label");
    Labels.forEach(Reset);
    var _Answer = document.querySelectorAll('input:checked');
    _Answer.forEach(ButtonReset);
    Checked = [];
    var _className = ".mc" + currentMC.toString();
    document.querySelector(_className).style.display = 'none';
    currentMC = 1;
    _className = ".mc" + currentMC.toString();
    document.querySelector("#Submit").style.display = "block";
    document.querySelector(_className).style.display = 'block';
    document.querySelector("#B").style.display = 'none';
    document.querySelector("#N").style.display = 'block';
    document.querySelector("#Restart").style.display = 'none';
    document.querySelector(".MCQexplain").style.display = "none";
});

document.querySelector("#Submit").addEventListener('click', function(){
    var _userAnswer = document.querySelector('input[name="q' +  currentMC.toString()+'"]:checked');
    var _userAnswerLabel = document.querySelector("label[for = '" + _userAnswer.id + "']");
    var _rightAnswer = document.querySelector("label[for = 'q" + currentMC.toString() + "-" + Answer[currentMC-1].toString() + "']");
    _userAnswer.checked= false;
    if(_userAnswer.value == Answer[currentMC-1].toString()){
        _userAnswerLabel.style.backgroundColor = "green";
        document.querySelector("#Submit").style.display = "none";
        document.querySelector(".MCQexplain").style.display = "none";
        document.querySelector("#Submit").innerHTML =  "Check";
        if(currentMC != lastMC) document.querySelector("#N").style.display = "block";
        if(currentMC != 1) document.querySelector("#B").style.display = "block";
    }
    else{
        _userAnswerLabel.style.backgroundColor = "red";
        //_rightAnswer.style.backgroundColor="green";
        //document.querySelector("#Submit").style.display = "none";
        document.querySelector("#Submit").innerHTML =  "Retry";
        document.querySelector("#N").style.display = "none";
        document.querySelector("#B").style.display = "none";
        document.querySelector(".MCQexplain").style.display = "block";
        document.querySelector(".MCQexplain").innerHTML = explain[(currentMC-1)];
    }
    Checked.push(currentMC);

    //document.querySelector("#Submit").innerHTML = document.querySelector('input[name="q' +  currentMC.toString()+'"]:checked').value;
});



</script>

</html>
